{"version":3,"sources":["components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","App.js","index.js"],"names":["Button","onClick","className","type","ImageGalleryItem","webformatURL","searchName","largeImageURL","src","alt","data-src","ImageGallery","collection","map","id","key","Loader","props","viewBox","height","width","speed","backgroundColor","cx","cy","r","metadata","name","github","description","filename","Searchbar","onSubmit","autoComplete","autoFocus","placeholder","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","image","createPortal","Component","apiKey","App","state","pageNum","showModal","isLoading","handleSubmit","evt","preventDefault","value","setState","prevState","handleLoadMore","getImages","axios","get","then","response","data","hits","catch","error","console","log","openImage","dataset","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12079c20.chunk.js","sourcesContent":["import React from 'react';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className=\"LoadMoreButton\">\n      <button type=\"submit\" className=\"Button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  searchName,\n  onClick,\n  largeImageURL,\n}) => {\n  return (\n    <img\n      src={webformatURL}\n      alt={searchName}\n      className=\"ImageGalleryItem-image\"\n      onClick={onClick}\n      data-src={largeImageURL}\n    />\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ collection, searchName, onClick }) => {\n  return (\n    <div>\n      <ul className=\"ImageGallery\">\n        {collection.map(({ id, webformatURL, largeImageURL }) => (\n          <li className=\"ImageGalleryItem\" key={id}>\n            <ImageGalleryItem\n              webformatURL={webformatURL}\n              searchName={searchName}\n              largeImageURL={largeImageURL}\n              onClick={onClick}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst Loader = props => (\n  <ContentLoader\n    className=\"Loader\"\n    viewBox=\"0 0 400 160\"\n    height={160}\n    width={400}\n    speed={2}\n    backgroundColor=\"transparent\"\n    {...props}\n  >\n    <circle cx=\"150\" cy=\"86\" r=\"8\" />\n    <circle cx=\"194\" cy=\"86\" r=\"8\" />\n    <circle cx=\"238\" cy=\"86\" r=\"8\" />\n  </ContentLoader>\n);\n\nLoader.metadata = {\n  name: 'RioF',\n  github: 'clariokids',\n  description: 'Three Dots',\n  filename: 'Loader',\n};\n\nexport default Loader;\n","import React from 'react';\n\nconst Searchbar = ({ onSubmit }) => {\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={onSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"searchName\"\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { image } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={image.src} alt={image.searchName} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport Button from './components/Button/Button';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Loader from './components/Loader/Loader';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nconst apiKey = '16154049-920613fe8ac8115ece0f8eaf1';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    collection: [],\r\n    image: {},\r\n    searchName: '',\r\n    pageNum: 1,\r\n    showModal: false,\r\n    isLoading: false,\r\n  };\r\n\r\n  handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    const searchName = evt.target.searchName.value;\r\n    this.setState(prevState => {\r\n      if (prevState.searchName !== searchName) {\r\n        return {\r\n          collection: [],\r\n          searchName: searchName,\r\n          pageNum: 1,\r\n        };\r\n      } else {\r\n        return {\r\n          pageNum: prevState.pageNum + 1,\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  handleLoadMore = () => {\r\n    this.setState(({ pageNum }) => ({\r\n      pageNum: pageNum + 1,\r\n    }));\r\n  };\r\n\r\n  getImages = () =>\r\n    axios\r\n      .get(\r\n        `https://pixabay.com/api/?q=${this.state.searchName}&page=${this.state.pageNum}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n      )\r\n      .then(response =>\r\n        this.setState(({ collection }) => ({\r\n          collection: [...collection, ...response.data.hits],\r\n          isLoading: false,\r\n        })),\r\n      )\r\n      .catch(error => console.log(error));\r\n\r\n  openImage = ({ target }) => {\r\n    this.setState({\r\n      image: {\r\n        searchName: this.state.searchName,\r\n        src: target.dataset.src,\r\n      },\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchName, pageNum, isLoading, image } = this.state;\r\n\r\n    if (prevState.searchName !== searchName || prevState.pageNum !== pageNum) {\r\n      this.setState({\r\n        isLoading: true,\r\n      });\r\n      this.getImages();\r\n    }\r\n\r\n    if (prevState.isLoading === true && !isLoading) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n\r\n    if (prevState.image !== image) {\r\n      this.toggleModal();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { collection, searchName, isLoading, showModal, image } = this.state;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.handleSubmit} />\r\n        <ImageGallery\r\n          collection={collection}\r\n          searchName={searchName}\r\n          onClick={this.openImage}\r\n        />\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : (\r\n          collection.length !== 0 && <Button onClick={this.handleLoadMore} />\r\n        )}\r\n        {showModal && <Modal onClose={this.toggleModal} image={image} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}